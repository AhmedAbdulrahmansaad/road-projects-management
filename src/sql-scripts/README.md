# ๐ธ๐ฆ ุฃููุงุฏ SQL ููุงุนุฏุฉ ุจูุงูุงุช ูุธุงู ุฅุฏุงุฑุฉ ูุดุงุฑูุน ุงูุทุฑู

## ๐ ุงูุชุนูููุงุช:

### ุฎุทูุงุช ุงูุชูููุฐ ูู Supabase:

1. **ุงูุชุญ Supabase Dashboard**
   - ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
   - ุงุฎุชุฑ ูุดุฑูุนู: Smart road Projects System

2. **ุงูุชุญ SQL Editor**
   - ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ โ SQL Editor
   - ุงุถุบุท New Query

3. **ููุฐ ุงููููุงุช ุจุงูุชุฑุชูุจ:**

#### ุงููุฑุญูุฉ 1: ุญุฐู ุงูุฌุฏุงูู ุงููุฏููุฉ
- ุงูุชุญ ููู: `01-drop-tables.sql`
- ุงูุณุฎ ุงููุญุชูู ุจุงููุงูู
- ุงูุตูู ูู SQL Editor
- ุงุถุบุท RUN (ุฃู Ctrl+Enter)
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 2: ุฅูุดุงุก ุฌุฏูู ุงููุณุชุฎุฏููู
- ุงูุชุญ ููู: `02-create-users.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 3: ุฅูุดุงุก ุฌุฏูู ุงููุดุงุฑูุน
- ุงูุชุญ ููู: `03-create-projects.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 4: ุฅูุดุงุก ุฌุฏูู ุงูุชูุงุฑูุฑ ุงูููููุฉ
- ุงูุชุญ ููู: `04-create-daily-reports.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 5: ุฅูุดุงุก ุฌุฏูู ุจูุงู ุงููุณุจ
- ุงูุชุญ ููู: `05-create-percentage-statements.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 6: ุฅูุดุงุก ุฌุฏูู ุนููุฏ ุงูุฃุฏุงุก
- ุงูุชุญ ููู: `06-create-performance-contracts.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 7: ุฅูุดุงุก ุฌุฏูู ุงูุฅุดุนุงุฑุงุช
- ุงูุชุญ ููู: `07-create-notifications.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 8: ุชูุนูู Row Level Security
- ุงูุชุญ ููู: `08-enable-rls.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

#### ุงููุฑุญูุฉ 9: ุฅูุดุงุก Functions
- ุงูุชุญ ููู: `09-create-functions.sql`
- ุงูุณุฎ ุงููุญุชูู ูุงูุตูู
- ุงุถุบุท RUN
- ูุฌุจ ุฃู ูุธูุฑ: Success

---

## โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุนูููุฉ:

ุจุนุฏ ุชูููุฐ ุฌููุน ุงููููุงุช:

1. ุงุฐูุจ ุฅูู **Table Editor** ูู Supabase
2. ูุฌุจ ุฃู ุชุดุงูุฏ 6 ุฌุฏุงูู:
   - โ users
   - โ projects
   - โ daily_reports
   - โ percentage_statements
   - โ performance_contracts
   - โ notifications

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ:

ุจุนุฏ ูุฌุงุญ ุฌููุน ุงููุฑุงุญูุ ุฃุฎุจุฑ ุงููุทูุฑ ุจู:
**"โ ุงูุฌุฏุงูู ุฌุงูุฒุฉ - ูู ุงููุฑุงุญู ูุฌุญุช"**

ูุจุนุฏูุง ุณูุจุฏุฃ ุจุชุนุฏูู ูููุงุช Backend ูุชุณุชุฎุฏู SQL ุจุฏูุงู ูู KV Store.

---

## ๐ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

### 1๏ธโฃ users (ุงููุณุชุฎุฏููู)
- id: UUID (Primary Key)
- email: TEXT (Unique)
- password: TEXT (ูุดูุฑุฉ)
- name: TEXT
- role: TEXT (ุงูุฏูุฑ ุงููุธููู)
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ

### 2๏ธโฃ projects (ุงููุดุงุฑูุน)
- id: UUID (Primary Key)
- project_number: TEXT
- project_name: TEXT
- location: TEXT
- contractor_name: TEXT
- consultant_name: TEXT
- start_date: DATE
- end_date: DATE
- contract_value: DECIMAL(15, 2)
- status: TEXT
- created_by: UUID (Foreign Key โ users.id)
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ

### 3๏ธโฃ daily_reports (ุงูุชูุงุฑูุฑ ุงูููููุฉ)
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key โ projects.id)
- report_date: DATE
- weather: TEXT
- work_description: TEXT
- workers_count: INTEGER
- equipment_used: TEXT
- notes: TEXT
- created_by: UUID (Foreign Key โ users.id)
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ

### 4๏ธโฃ percentage_statements (ุจูุงู ุงููุณุจ)
- id: UUID (Primary Key)
- project_id: UUID (Foreign Key โ projects.id)
- statement_date: DATE
- item_description: TEXT
- planned_percentage: DECIMAL(5, 2)
- actual_percentage: DECIMAL(5, 2)
- notes: TEXT
- created_by: UUID (Foreign Key โ users.id)
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ

### 5๏ธโฃ performance_contracts (ุนููุฏ ุงูุฃุฏุงุก)
- id: UUID (Primary Key)
- contract_number: TEXT
- project_name: TEXT
- contractor_name: TEXT
- year: INTEGER
- month: TEXT
- contractor_score: DECIMAL(10, 2)
- yearly_weighted: DECIMAL(10, 2)
- difference: DECIMAL(10, 2)
- created_by: UUID (Foreign Key โ users.id)
- created_at: TIMESTAMPTZ
- updated_at: TIMESTAMPTZ

### 6๏ธโฃ notifications (ุงูุฅุดุนุงุฑุงุช)
- id: UUID (Primary Key)
- title: TEXT
- message: TEXT
- type: TEXT (info, success, warning, error)
- user_id: UUID (Foreign Key โ users.id)
- is_read: BOOLEAN
- created_at: TIMESTAMPTZ

---

## ๐ ุงูุฃูุงู:

- โ Row Level Security (RLS) ููุนู ุนูู ูู ุงูุฌุฏุงูู
- โ Policies ุชุณูุญ ุจุงููุตูู ุนุจุฑ Service Role ููุท
- โ Foreign Keys ูุถูุงู ุณูุงูุฉ ุงูุจูุงูุงุช
- โ Indexes ููุฃุฏุงุก ุงูุนุงูู
- โ Constraints ููุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

---

## ๐ ูุธุงู ุญูููู ููุนูู - ุฌุงูุฒ ููุฅูุชุงุฌ ๐ธ๐ฆ
